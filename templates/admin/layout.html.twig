{% extends 'base.html.twig' %}

{% block importmap %}
    {# Load both the app.js and admin.js entrypoints #}
    {{ importmap(['app', 'admin']) }}
{% endblock %}

{% block header_navigation_links %}
{#    <li class="nav-item{{ _route in ['admin_index', 'admin_post_index'] ? ' active' : '' }}">#}
{#        <a class="nav-link" href="{{ path('admin_expense_list') }}">#}
{#            <twig:ux:icon name="tabler:calendar-dollar"/> {{ 'menu.expense'|trans }}#}
{#        </a>#}
{#    </li>#}
{#    <li class="nav-item">#}
{#        <a class="nav-link" href="{{ path('admin_income_list') }}">#}
{#            <twig:ux:icon name="tabler:license"/> {{ 'menu.income'|trans }}#}
{#        </a>#}
{#    </li>#}
{#    <li class="nav-item">#}
{#        <a class="nav-link" href="{{ path('admin_slip_generation') }}">#}
{#            <twig:ux:icon name="tabler:brand-cashapp"/> {{ 'menu.slip'|trans }}#}
{#        </a>#}
{#    </li>#}
    <li class="nav-item">
        <a class="nav-link" href="{{ path('admin_dashboard') }}">
            <twig:ux:icon name="tabler:dashboard"/> Dashboard
        </a>
    </li>
{% endblock %}

{# Sobrescribimos el bloque sidebar de base.html.twig #}
{% block sidebar %}
    {# El div#sidebar.col-sm-3 de base.html.twig contendrá esto #}
    <div class="admin-sidebar-menu p-3"> {# Padding para el contenido del sidebar #}
        <ul class="nav nav-pills flex-column"> {# nav-pills para estilo de "píldora" en activo, o solo nav flex-column #}
            {% include 'admin/_sidebar_menu.html.twig' %}
        </ul>
    </div>
{% endblock %}

{# Sobrescribimos el bloque main de base.html.twig para la estructura de admin #}
{% block main %}
    {# El div#main.col-sm-9 de base.html.twig contendrá esto #}
    <div class="admin-main-content p-3"> {# Padding para el contenido principal #}
        {# Encabezado de la página de administración #}
        <div class="page-header mb-4">
            <div class="row align-items-center">
                <div class="col">
                    <h1 class="page-title mb-1">
                        {% block page_title %}Título Admin{% endblock %}
                    </h1>
                    {% if block('page_pretitle') is defined and block('page_pretitle')|trim is not empty %}
                        <div class="text-muted">{% block page_pretitle %}{% endblock %}</div>
                    {% endif %}
                </div>
                <div class="col-auto ms-auto">
                    {% block page_actions %}{% endblock %} {# Un nuevo bloque para acciones a nivel de página, como un botón "Crear Nuevo" #}
                </div>
            </div>
            <nav aria-label="breadcrumb" class="mt-2">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="{{ path('admin_dashboard') }}">Admin</a></li>
                    {% block breadcrumb %}{% endblock %}
                </ol>
            </nav>
        </div>

        {# Mensajes Flash #}
        {{ include('default/_flash_messages.html.twig') }}

        {# Contenido específico de la página de administración #}
        {% block admin_page_content %}{% endblock %}
    </div>
{% endblock %}
