{% extends 'admin/layout.html.twig' %}

    {% block title %}Income List{% endblock %}

    {% block main %}
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h1>{{ 'income.list' | trans }}</h1>
            <a href="{{ path('admin_income_create') }}" class="btn btn-lg btn-success">
                <i class="fa fa-plus" aria-hidden="true"></i> {{ 'income.create_action'|trans }}
            </a>
        </div>

        {# Flash messages for success or error notifications #}
        {% include 'admin/_partials/_flash_messages.html.twig' %}

{#        <form method="GET" class="mb-4">#}
{#            <div class="row align-items-end">#}
{#                <div class="col-md-5">#}
{#                    <label for="month" class="form-label">Filter by month:</label>#}
{#                    <input type="month" id="month" name="month" class="form-control"#}
{#                           value="{{ selectedYear and selectedMonth ? selectedYear ~ '-' ~ selectedMonth : '' }}">#}
{#                </div>#}
{#                <div class="col-md-6 d-flex justify-content-between">#}
{#                    <button type="submit" class="btn btn-sm btn-primary">Apply Filter</button>#}
{#                    <a href="{{ path('admin_income_list') }}" class="btn btn-sm btn-secondary">Clear Filter</a>#}
{#                </div>#}
{#            </div>#}
{#        </form>#}

        <table class="table table-striped">
            <thead>
            <tr>
                <th>Description</th>
                <th>Amount</th>
                <th>Date</th>
                <th>Account</th>
                <th>Actions</th>
            </tr>
            </thead>
            <tbody>
            {% for income in incomes %}
                <tr>
                    <td>{{ income.type.name }} - {{ income.description }}</td>
                    <td>{{ (income.amount / 100) | number_format(2, ',', '.') }} R$</td>
                    <td>{{ income.dueDate | date('d/m/Y') }}</td>
                    <td>{{ income.residence.unit }}</td>
                    <td>
                        <a href="{{ path('admin_expense_edit', { id: income.id }) }}"
                           class="btn custom-btn-xs btn-primary">Edit</a>
                    </td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    {% endblock %}

{#    {% block sidebar %}#}
{#        <div class="section actions">#}
{#            <a href="{{ path('admin_post_new') }}" class="btn btn-lg btn-block btn-success">#}
{#                <i class="fa fa-plus" aria-hidden="true"></i> {{ 'action.create_post'|trans }}#}
{#            </a>#}
{#        </div>#}

{#        {{ parent() }}#}
{#    {% endblock %}#}
