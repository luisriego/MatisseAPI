{# templates/admin/_partials/_slip_table.html.twig #}
<div class="table-responsive">
    <table class="table table-hover table-sm mb-0 align-middle {% if table_theme is defined and table_theme == 'dark' %}table-dark{% endif %}">
        <thead class="{% if table_theme is defined and table_theme == 'dark' %}table-dark{% else %}table-light{% endif %}">
        <tr>
            <th>{{ 'Pagador'|trans }}</th>
            <th>{{ 'Data de Vencimento'|trans }}</th>
            <th class="text-end">{{ 'Valor (R$)'|trans }}</th>
            <th>{{ 'Status'|trans }}</th>
            {% if show_actions|default(true) %}
                <th class="text-center">{{ 'Ações'|trans }}</th>
            {% endif %}
        </tr>
        </thead>
        <tbody>
        {% if slips_list is defined and slips_list|length > 0 %}
            {% for slip_item in slips_list %}
                <tr>
                    <td>{{ slip_item.payerName | default('N/A') }}</td> {# Asume que tu entidad Slip tiene un método getPayerName() o propiedad payerName #}
                    <td>{{ slip_item.dueDate ? slip_item.dueDate|date('d/m/Y') : 'N/A' }}</td> {# Asume getDueDate() #}
                    <td class="text-end">{{ slip_item.amount ? (slip_item.amount / 100)|number_format(2, ',', '.') : 'N/A' }}</td> {# Asume getAmount() en céntimos #}
                    <td>
                        {# Asume que tu entidad Slip tiene un método getStatus() o una forma de determinar el status #}
                        {% set status_badge = 'secondary' %}
                        {% if slip_item.status == 'PAID' %}
                            {% set status_badge = 'success' %}
                        {% elseif slip_item.status == 'PENDING' %}
                            {% set status_badge = 'warning' %}
                        {% elseif slip_item.status == 'OVERDUE' %}
                            {% set status_badge = 'danger' %}
                        {% elseif slip_item.status == 'CANCELLED' %}
                            {% set status_badge = 'dark' %}
                        {% endif %}
                        <span class="badge bg-{{ status_badge }}">{{ slip_item.status | default('Desconhecido') | trans }}</span>
                    </td>
                    {% if show_actions|default(true) %}
                        <td class="text-center">
                            {# Aquí irían los botones de acción, por ejemplo: #}
                            {# <a href="{{ path('admin_slip_view', {'id': slip_item.id}) }}" class="btn btn-sm btn-info" title="{{'Ver'|trans}}"><twig:ux:icon name="tabler:eye"/></a> #}
                            {# <a href="{{ path('admin_slip_download_pdf', {'id': slip_item.id}) }}" class="btn btn-sm btn-secondary" title="{{'Baixar PDF'|trans}}"><twig:ux:icon name="tabler:file-type-pdf"/></a> #}
                        </td>
                    {% endif %}
                </tr>
            {% endfor %}
        {% else %}
            <tr>
                <td colspan="{{ show_actions|default(true) ? 5 : 4 }}" class="text-center">
                    {{ no_slips_message_key|default('slip.list.no_slips_for_month'|trans)|trans }}
                </td>
            </tr>
        {% endif %}
        </tbody>
    </table>
</div>
